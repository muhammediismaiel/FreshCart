import{a as H,c as j,f as L,h as k,l as A}from"./chunk-CUATMJMT.js";import{a as M}from"./chunk-KV5YM4EH.js";import{a as V}from"./chunk-JEYU4BB5.js";import{a as F}from"./chunk-TQL5B64P.js";import"./chunk-Q6L3W752.js";import{a as I}from"./chunk-KQINMKZ3.js";import{h as E,i as P}from"./chunk-CTLRNFRS.js";import{$b as D,Db as y,F as g,Ib as w,J as v,Kb as u,Oa as h,Ra as n,Rb as a,Sb as f,Ya as s,ac as T,bb as b,fa as x,ga as C,pb as l,qb as m,sb as _,tb as S,ub as p,vb as r,wb as o,xb as d}from"./chunk-VB2YUMDK.js";var U=(i,t)=>t.id;function z(i,t){i&1&&(r(0,"div",5),d(1,"div",7),o())}function B(i,t){if(i&1){let e=y();r(0,"div",8),d(1,"img",9),r(2,"h2",10),a(3),o(),r(4,"p",11),a(5),D(6,"currency"),o(),r(7,"button",12),w("click",function(){let O=x(e).$implicit,$=u(2);return C($.addProductToCart(O.id))}),a(8," Add to Cart "),o()()}if(i&2){let e=t.$implicit;n(),p("src",e.imageCover,h)("alt",e.title),n(2),f(e.title),n(2),f(T(6,4,e.price))}}function R(i,t){if(i&1&&(r(0,"div",6),_(1,B,9,6,"div",8,U),o()),i&2){let e=u();n(),S(e.products)}}var N=class i{constructor(t,e,c){this.productService=t;this.cartService=e;this.toaster=c}inputControl=new L("");products=[];isLoading=!1;ngOnInit(){I(),this.inputControl.valueChanges.pipe(g(400),v()).subscribe(t=>{this.fetchProducts(t||"0")})}fetchProducts(t){this.isLoading=!0,this.productService.getProducts(t).subscribe({next:e=>{this.products=e?.data||e,this.isLoading=!1},error:()=>{this.isLoading=!1}})}addProductToCart(t){this.cartService.addProductToCart(t).subscribe({error:e=>{console.log(e),this.toaster.error(e.message)},next:e=>{console.log(e),this.toaster.success(e.message)}})}static \u0275fac=function(e){return new(e||i)(s(M),s(V),s(F))};static \u0275cmp=b({type:i,selectors:[["app-home"]],decls:9,vars:3,consts:[[1,"max-w-screen-xl","mx-auto","p-4","bg-green-100"],[1,"text-2xl","font-bold","text-center","text-green-600","mt-6"],[1,"text-center","text-gray-600","mt-8"],[1,"flex","justify-center","mt-8"],["type","text","placeholder","Search for products with price ...",1,"p-3","border","border-gray-300","rounded-lg","w-full","max-w-xs","focus:outline-none","focus:ring-2","focus:ring-green-600","shadow-md","text-center",3,"formControl"],[1,"flex","justify-center","items-center","mt-10"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4","mt-8"],[1,"w-12","h-12","border-4","border-green-500","border-t-transparent","rounded-full","animate-spin"],[1,"bg-white","rounded-lg","shadow","p-4","flex","flex-col","items-center","hover:shadow-lg","transition"],[1,"w-32","h-32","object-cover","mb-4","rounded",3,"src","alt"],[1,"text-lg","font-semibold"],[1,"text-gray-500"],[1,"mt-4","cursor-pointer","bg-green-600","text-white","py-2","px-4","rounded-lg","hover:bg-green-700",3,"click"]],template:function(e,c){e&1&&(r(0,"section",0)(1,"h1",1),a(2,"\u{1F3EA}Welcome to FreshCart\u{1F3EA}"),o(),r(3,"p",2),a(4," \u{1F516}Your one-stop shop for fresh groceries and daily essentials. "),o(),r(5,"div",3),d(6,"input",4),o(),l(7,z,2,0,"div",5),l(8,R,3,0,"div",6),o()),e&2&&(n(6),p("formControl",c.inputControl),n(),m(c.isLoading?7:-1),n(),m(c.isLoading?-1:8))},dependencies:[P,A,H,j,k,E],encapsulation:2})};export{N as Home};
