import{a as D,b as F,c as A}from"./chunk-Z5NFW2RK.js";import{a as j}from"./chunk-KV5YM4EH.js";import{a as k}from"./chunk-JEYU4BB5.js";import{a as L}from"./chunk-TQL5B64P.js";import"./chunk-Q6L3W752.js";import{a as $}from"./chunk-QDDLIEST.js";import{a as O}from"./chunk-KQINMKZ3.js";import{d as I}from"./chunk-ZP25FYFI.js";import"./chunk-CTLRNFRS.js";import{Db as P,Ib as w,Kb as l,Oa as p,Ra as n,Rb as a,Sb as _,Tb as T,Xb as E,Ya as s,bb as y,fa as h,ga as S,gb as b,pb as u,qb as g,rb as v,sb as f,tb as x,ub as c,vb as o,wb as r,xb as d}from"./chunk-VB2YUMDK.js";var z=t=>["/productdetails",t];function B(t,i){t&1&&(o(0,"div",2),d(1,"div",5),r())}function N(t,i){if(t&1&&(d(0,"img",7),o(1,"h3",8),a(2),r()),t&2){let e=l().$implicit;c("src",e.image,p)("alt",e.name),n(2),T(" ",e.name," ")}}function U(t,i){if(t&1&&b(0,N,3,3,"ng-template",6),t&2){let e=i.$implicit;c("id",e.id)}}function R(t,i){if(t&1&&(o(0,"owl-carousel-o",3),f(1,U,1,1,null,6,v),r()),t&2){let e=l();c("options",e.customOptions),n(),x(e.Categories)}}function q(t,i){t&1&&(o(0,"div",2),d(1,"div",5),r())}function G(t,i){if(t&1){let e=P();o(0,"div",9)(1,"div",10)(2,"a",11),d(3,"img",12),r(),o(4,"button",13),w("click",function(){let C=h(e).$implicit,V=l(2);return S(V.addProductToCart(C.id))}),a(5," Add to Cart "),r()(),o(6,"h2",14),a(7),r(),o(8,"p",15),a(9),r()()}if(t&2){let e=i.$implicit;n(2),c("routerLink",E(5,z,e._id)),n(),c("src",e.imageCover,p)("alt",e.title),n(4),_(e.title),n(2),_(e.price)}}function H(t,i){if(t&1&&(o(0,"div",4),f(1,G,10,7,"div",9,v),r()),t&2){let e=l();n(),x(e.products)}}var M=class t{constructor(i,e,m,C){this.productService=i;this.categoryService=e;this.cartService=m;this.toaster=C}Categories=[];products=[];isLoadingCategories=!0;isLoadingProducts=!0;ngOnInit(){O(),this.getcategories(),this.getAllProducts()}getcategories(){this.isLoadingCategories=!0,this.categoryService.getCategories().subscribe({next:i=>{this.Categories=i.data,this.isLoadingCategories=!1},error:()=>{this.isLoadingCategories=!1}})}getAllProducts(){this.isLoadingProducts=!0,this.productService.getAllProducts().subscribe({next:i=>{this.products=i.data,this.isLoadingProducts=!1},error:()=>{this.isLoadingProducts=!1}})}customOptions={loop:!0,mouseDrag:!1,touchDrag:!1,pullDrag:!1,dots:!1,navSpeed:700,autoplay:!0,autoplaySpeed:300,navText:["<",">"],margin:10,responsive:{0:{items:1},400:{items:2},740:{items:3},940:{items:4}},nav:!0};addProductToCart(i){this.cartService.addProductToCart(i).subscribe({error:e=>{console.log(e),this.toaster.error(e.message)},next:e=>{console.log(e),this.toaster.success(e.message)}})}static \u0275fac=function(e){return new(e||t)(s(j),s($),s(k),s(L))};static \u0275cmp=y({type:t,selectors:[["app-product"]],decls:10,vars:2,consts:[[1,"max-w-screen-xl","mx-auto","p-4","overflow-hidden"],[1,"text-2xl","font-bold","mb-4","text-center","text-white"],[1,"flex","justify-center","items-center","h-40"],[3,"options"],[1,"grid","grid-cols-1","sm:grid-cols-2","md:grid-cols-3","gap-4","mt-8"],[1,"w-10","h-10","border-4","border-green-500","border-t-transparent","rounded-full","animate-spin"],["carouselSlide","",3,"id"],[1,"h-40","object-cover","object-top",3,"src","alt"],[1,"text-lg","font-semibold","text-center","mt-2","text-white"],[1,"group","bg-white","rounded-lg","shadow","p-4","flex","flex-col","items-center","relative","overflow-hidden"],[1,"relative"],[3,"routerLink"],[1,"w-32","h-32","object-cover","mb-4","rounded","transition-transform","duration-300","group-hover:scale-105","cursor-pointer",3,"src","alt"],[1,"absolute","bottom-2","cursor-pointer","left-1/2","-translate-x-1/2","opacity-0","translate-y-6","transition-all","duration-500","group-hover:translate-y-0","group-hover:opacity-100","bg-green-600","text-white","py-2","px-6","rounded-lg","hover:bg-green-700","whitespace-nowrap",3,"click"],[1,"text-lg","font-semibold","mt-2"],[1,"text-gray-500"]],template:function(e,m){e&1&&(o(0,"section",0)(1,"h1",1),a(2,"Product Categories"),r(),u(3,B,2,0,"div",2)(4,R,3,1,"owl-carousel-o",3),r(),o(5,"section",0)(6,"h1",1),a(7,"Our Products"),r(),u(8,q,2,0,"div",2)(9,H,3,0,"div",4),r()),e&2&&(n(3),g(m.isLoadingCategories?3:4),n(5),g(m.isLoadingProducts?8:9))},dependencies:[A,F,D,I],encapsulation:2})};export{M as Product};
